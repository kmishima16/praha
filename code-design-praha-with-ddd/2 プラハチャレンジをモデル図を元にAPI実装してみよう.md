---
id: 20250120T12384860
aliases: 
tags:
  - review
created: 2025-01-20T12:38:48
updated: 2025-01-20T12:38:48
sr-due: 2025-01-23
sr-interval: 3
sr-ease: 250
---
# 課題2

課題1で作成したモデル図を元にAPIサーバを**node.js+TypeScriptで「オニオンアーキテクチャ」に沿って実装してください**

- BunやDenoでも構いません
- ある程度オニオンアーキテクチャに準拠する形で実装された、こちらの[サンプルレポジトリ](https://github.com/praha-inc/praha-challenge-ddd-template)を使ってみるとお手軽かもしれません！

## **成果物の仕様**

以下の機能を持つこと

- 参加者の一覧取得、新規追加、更新（在籍ステータスを変更できること）
- チームの一覧取得、更新（チームに所属する参加者を変更できること）
- 課題の更新（特定の参加者の課題進捗ステータスを変更できること）
- 「特定の課題（複数可能）」が「特定の進捗ステータス」になっている参加者の一覧を、10人単位でページングして取得する
    - 例１：「設計原則（SOLID）」と「DBモデリング１」を「レビュー完了」している参加者一覧を取得する
    - 例２：「DBモデリング3」を「未着手」の参加者一覧を取得する
    - 条件に合致する参加者を全て取得するのではなく、10名ずつ取得する点（ページング）にご注意ください！
    
    <aside>
    💡 ヒント：CQSを使い、RepositoryではなくQueryServiceに処理を記載すると良いかもしれません
    
    </aside>
    

以下の階層が存在すること

- Controller
- App(UseCase)
- Infra
- Domain
- DomainService
- Entity

**補足仕様**

- DrizzleやPrismaなどのORMを使ってデータの永続化ができること（サンプルレポジトリにはDocker化されたDBとDrizzleを使ってDBとやり取りする仕組みが用意されています。docker　compose upで起動して使ってみてください）
- 課題の簡略化のため、ユーザ認証は実装しなくても大丈夫です
    - 認証が必要なエンドポイントを設計する際は、認証済みのクライアントからリクエストが届く場合はbodyに「userId」が含まれたリクエストが届くこと、未認証のクライアントならbodyにuserIdがnullになっているリクエストが届くことを想定していただいて構いません
- 課題の簡略化のため、今回の課題ではクッキーやセッションなどは気にしなくて構いません。リクエストに対してレスポンスを返すだけのシンプルなAPIサーバで十分です
- 課題の簡略化のため、初期データは別の管理画面から投入されるため、ドメインロジックを介す必要がない前提とします
    - 例えば参加者30人がペアやチームに割り振られた状況でスタートするようなイメージです
- DomainとApp配下のコードには、少なくとも正常系の単体テストを書いてみましょう！
- ただでさえ複雑な仕様なので「最後の1名の参加者になったとき」「最後の1つのチームになったとき」など、アプリケーションの終盤の条件は考慮せず、例外が生じるような作りで構いません
    - ユーザーが0まで減っていくのは、あまりWEBアプリケーションにとって一般的なドメインロジックではないので


