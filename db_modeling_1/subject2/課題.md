
# 課題2-1

## 2.1.1問題

わさび有り無しに加えて、シャリの大小も管理できるようなシステム

## 2.1.2答え

- 注文の内訳もレコードにする
  - id:1, order_id:2, product_id:1, quantity:4
    - order_詳細テーブル
      - order_id:2, quantity:2, syari:1, wasabi:1
      - order_id:2, quantity:1, syari:2, wasabi:0
      - order_id:2, quantity:1, syari:1, wasabi:1

# 課題2-2

## 2.2.1問題

セット商品とは別に、単品商品が毎月何個売上できているか集計したい

## 2.2.2答え

- product_idにセットまたは単品のフラグをつける
- 注文日時のカラムを追加する必要がある
- order_itemテーブルにproduct_idとqtyがカラムとしてあるので、これをgroup_byすればよい

# 課題2-3

## 2.2.3 問題

トリオと課題を交換し、どのように解決するか考えてみてください

- クーポンの導入
  - クーポンには対象商品、期限、割引額がある
- 会員ランクの導入
  - ブロンズ、シルバー、ゴールド会員がある
    - 注文１回につき1ポイント
    - 購入金額1000円につき1ポイント
    - 1ポイントでブロンズ、10ポイントでシルバー、50ポイントでゴールド会員
    - ブロンズ：会計5%オフ
    - シルバー：会計10%オフ
    - ゴールド：会計10%オフ、配送料が無料（ただし10貫以上の注文に限る）
